
# FB Messenger Bot

A chatbot integrated with Facebook Messenger, developed using Node.js and Google's Dialogflow.

# Table of Contents
* [Prerequisites](#Prerequisites)
* [Installation](#Installation)
* [Environment Setup](#Environment-Setup)
* [Google cloud](#Download-the-Google-Cloud-Private-Key-JSON-file)
* [Running Locally](#Running-Locally)
* [Deploying to Production](#Deploying-to-Production)
* [Features](#Features)
* [License](#license)


# Prerequisites
1. **Node.js & npm:** Ensure Node.js and npm are installed on your machine. Run **node -v** and npm -v to check if they are installed. If not, you can download Node.js [here](https://nodejs.org/en/download).

2. **Facebook Page and App:** A Facebook page and app are required to integrate the bot with Messenger. Follow the instructions in the Facebook Messenger Platform [Quick Start Guide](https://developers.facebook.com/docs/messenger-platform/getting-started/quick-start/).

3. **Dialogflow:** A Google account is needed to set up a Dialogflow agent. Follow the instructions in the Dialogflow [Quick Start Guide](https://cloud.google.com/dialogflow/es/docs/quick).


4. **Ngrok or similar tool:** If testing the bot locally, a tunneling tool like Ngrok will be needed. You can download Ngrok [here](https://ngrok.com/download)

## Installation

Clone the repository to your local machine:

```bash
 git clone https://github.com/Meutevive/FB-Messenger_bot.git
```
Change to the project directory:

```bash
 cd FB-MessengerBot
```

Install the project dependencies:

```bash
npm Install
```

# Environment Setup
Create a ***.env*** file in the root directory of the project and populate it with your Facebook and Dialogflow credentials:

```bash
VERIFY_TOKEN=<your-facebook-verify-token>
PAGE_ACCESS_TOKEN=<your-facebook-page-access-token>
GOOGLE_PROJECT_ID=<your-google-project-id>
```

PAGE_ACCESS_TOKEN : This token is generated by Facebook when a page is created and linked to your app, which is created on [Meta for Developers](https://developers.facebook.com/apps/).

# Download the Google Cloud Private Key JSON file
As part of the Dialogflow configuration, you need to download the Google Cloud private key JSON file. This file contains the private key and email that Dialogflow needs to authenticate your server's requests.

Here's how you can obtain this file:

1. Go to your Dialogflow console (console.cloud.google.com).
2. Select the project you are working on.
3. Navigate to 'IAM & Admin' -> 'Service Accounts'.
4. Here, you'll see a list of service accounts associated with your      project. Look for the Dialogflow Integrations service account.
5. On the far right, you'll see an action column. Click on the three dots and select 'Create key'.
6. Choose JSON as the key type and click 'Create'. This will trigger the download of the JSON file.

Once you have downloaded the JSON file, place it in the root directory of your project.

Then, in your ***.env*** file, update the ***GOOGLE_APPLICATION_CREDENTIALS*** variable with the path to your JSON file. Here's an example:

```bash
    GOOGLE_APPLICATION_CREDENTIALS="./<Your-Downloaded-JSON-file>.json"
```

Please replace ***<Your-Downloaded-JSON-file>*** with the name of the downloaded JSON file.

**Note:** The path to the JSON file should be relative to the root of your project. If you place the JSON file in a different directory, make sure to update the ***GOOGLE_APPLICATION_CREDENTIALS*** variable accordingly.


# Running Locally

To run the server: 

```bash 
 npm start 
 ```

 To run in developer mode : 

 ```bash
 npm run dev 
 ``` 

 If testing locally, start Ngrok or your preferred tunneling tool and point it to the port your server is running on (default: 3000). Follow the documentation of your tunneling tool for instructions.

Once the server is running and accessible (locally or publicly), set up your Facebook App's webhook to point to your server.

# Deploying to Production

Deployment will depend on your chosen hosting platform. Be sure to add your environment variables to your hosting platform as you did with the 
**.env** file locally.

# Features

This bot has been programmed to handle fundamental interactions, including basic greetings, and to furnish information about specific subjects such as:

* Nodejs
* Recipes for baking a cake

# License

This project is open source and available under the MIT License.










